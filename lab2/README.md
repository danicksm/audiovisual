## Лабораторная работа №2. Обесцвечивание и бинаризация растровых изображений

### 1. Berry

| ![berry_original.png](results/berry/berry_original.png) | ![berry_gray.bmp](results/berry/berry_gray.bmp) | ![berry_binary.bmp](results/berry/berry_binary.bmp) |
|:------------------------------------------------------:|:-----------------------------------------------:|:---------------------------------------------------:|
|                        Оригинал                        |                 Градации серого                 |         Бинаризация методом Сингха (k=0.5)          |

### 2. Buisness

| ![buisness_original.png](results/buisness/buisness_original.png) | ![buisness_gray.bmp](results/buisness/buisness_gray.bmp) | ![buisness_binary.bmp](results/buisness/buisness_binary.bmp) |
|:----------------------------------------------------------------:|:---------------------------------------------------------:|:-----------------------------------------------------------:|
|                           Оригинал                               |                    Градации серого                        |            Бинаризация методом Сингха (k=0.5)               |

### 3. Qiwi

| ![qiwi_original.png](results/qiwi/qiwi_original.png) | ![qiwi_gray.bmp](results/qiwi/qiwi_gray.bmp) | ![qiwi_binary.bmp](results/qiwi/qiwi_binary.bmp) |
|:---------------------------------------------------:|:--------------------------------------------:|:-----------------------------------------------:|
|                       Оригинал                      |                Градации серого               |        Бинаризация методом Сингха (k=0.5)       |

### 4. Chess

| ![chess_original.png](results/chess/chess_original.png) | ![chess_gray.bmp](results/chess/chess_gray.bmp) | ![chess_binary.bmp](results/chess/chess_binary.bmp) |
|:------------------------------------------------------:|:-----------------------------------------------:|:---------------------------------------------------:|
|                        Оригинал                        |                 Градации серого                 |         Бинаризация методом Сингха (k=0.5)          |

### 5. Zebra

| ![zebra_original.png](results/zebra/zebra_original.png) | ![zebra_gray.bmp](results/zebra/zebra_gray.bmp) | ![zebra_binary.bmp](results/zebra/zebra_binary.bmp) |
|:------------------------------------------------------:|:-----------------------------------------------:|:---------------------------------------------------:|
|                        Оригинал                        |                 Градации серого                 |         Бинаризация методом Сингха (k=0.5)          |

## Описание

Лабораторная работа направлена на реализацию алгоритмов обесцвечивания и бинаризации изображений. В ходе работы выполнены следующие задачи:

1. Приведение полноцветного изображения к полутоновому методом взвешенного усреднения каналов.
2. Приведение полутонового изображения к монохромному методом адаптивной бинаризации Сингха.

## Алгоритмы

### 1. Обесцвечивание через взвешенное усреднение RGB-каналов

Для преобразования цветного изображения в полутоновое используется взвешенное усреднение RGB-каналов с коэффициентами согласно стандарту ITU-R BT.601:
```
Y = 0.299*R + 0.587*G + 0.114*B
```
где Y - яркость пикселя в полутоновом изображении, R, G, B - значения красного, зеленого и синего каналов соответственно.

### 2. Адаптивная бинаризация Сингха

Алгоритм Сингха представляет собой вариацию алгоритмов Ниблэка и Саувола. Формула расчета порога Сингха:
```
T(x,y) = m(x,y) * [1 + k * ((δ(x,y)/S) - 1)]
```
где:
- T(x,y) - порог для пикселя с координатами (x,y)
- m(x,y) - среднее значение яркости в локальном окне вокруг пикселя
- δ(x,y) - стандартное отклонение яркости в локальном окне, рассчитывается как δ(x,y) = I(x,y) - m(x,y)
- S - глобальное стандартное отклонение яркости во всем изображении
- k - константа, управляющая чувствительностью алгоритма (в данной реализации k=0.5)

После расчета порога, бинаризация выполняется по правилу:
```
B(x,y) = 255, если I(x,y) > T(x,y)
B(x,y) = 0, в противном случае
```
где B(x,y) - значение пикселя в бинарном изображении, I(x,y) - значение пикселя в полутоновом изображении.

## Анализ результатов

### 1. Обесцвечивание
Алгоритм обесцвечивания через взвешенное усреднение хорошо сохраняет детали изображения и обеспечивает естественное восприятие яркости. Это заметно на всех типах изображений, особенно на фотографиях с плавными переходами цвета.

В отличие от простой глобальной бинаризации, адаптивный метод Сингха учитывает локальные особенности изображения, что позволяет получить более качественные результаты даже при сложных условиях освещения и качества исходного изображения.

## Начало работы

```
pip install -r lab1/requirements.txt
```

## Использование

Для запуска программы выполните следующую команду:

```bash
python3 main.py
```

Результаты обработки будут сохранены в директории `results` в отдельных папках для каждого изображения:
- `*_original.png` - исходное изображение
- `*_gray.bmp` - полутоновое изображение
- `*_binary.bmp` - бинарное изображение
- `*_comparison.png` - сравнение всех трех изображений 