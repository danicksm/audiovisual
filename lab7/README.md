# Лабораторная работа №7: Классификация символов иврита на основе признаков изображений

## Описание задания

Целью данной лабораторной работы является реализация классификации символов иврита на основе признаков изображений. Работа базируется на результатах лабораторных работ №5 и №6.

### Задачи

1. Реализовать расчёт меры близости изображений символов на основе признаков (евклидово расстояние в n-мерном пространстве нормализованных признаков)
2. Для каждого обнаруженного символа в строке рассчитать меру близости со всеми символами выбранного алфавита
3. Вывести результаты в файл с гипотезами, отсортированными по убыванию меры близости
4. Вывести лучшие гипотезы в виде строки и сравнить с распознаваемой строкой
5. Вычислить количество ошибок и долю верно распознанных символов
6. Провести эксперимент с размером шрифта, отличающимся от исходного на несколько пунктов

## Алфавит

Для данной лабораторной работы используется алфавит иврит:
א ב ג ד ה ו ז ח ט י כ ך ל מ ם נ ן ס ע פ ף צ ץ ק ר ש ת

## Реализация

### Признаки для классификации

- Масса символа (относительная)
- Координаты центра тяжести (относительные)
- Осевые моменты инерции (относительные)
- Распределение по квадрантам относительно центра тяжести

### Расчет меры близости

Мера близости рассчитывается как:
1. Евклидово расстояние между векторами признаков
2. Нормализация: similarity = 1 - (distance / max_distance)


## Результаты

### Матрица близости

В ходе работы была рассчитана матрица близости между всеми символами иврита. Результаты визуализированы и сохранены в файл `similarity_matrix.png`. Матрица показывает, что некоторые символы иврита имеют высокую степень похожести, что может затруднять их классификацию.

### Распознавание символов

Для тестовой фразы из первых 10 символов алфавита иврита `יקדובצץזשך` были получены следующие результаты:
- Распознанная фраза: `םםקךםםקקקך`
- Количество правильно распознанных символов: 1 из 10
- Точность распознавания: 10.00%

Гипотезы распознавания сохранены в файле `recognition_hypotheses.txt`, а окончательные результаты - в файле `recognition_results.txt`.

### Эксперимент с разными размерами шрифта

Исследование проведено для размеров: 42, 48, 52 (эталонный), 56 и 62 пункта.
Результаты представлены на графике `font_size_experiment.png`.

Интересно, что результаты показали неожиданную закономерность:
- Для шрифта размером 42 пункта: точность 100% (все символы распознаны верно)
- Для шрифта размером 48 пункта: точность 30% (3 символа из 10 распознаны верно)
- Для шрифта размером 52 пункта (эталонный): точность 10% (1 символ из 10 распознан верно)
- Для шрифтов размером 56 и 62 пункта: точность 0% (все символы распознаны неверно)

Это указывает на то, что для данного набора признаков меньший размер шрифта дает лучшие результаты, что противоречит первоначальной гипотезе.

## Анализ результатов

1. **Сильная зависимость от размера шрифта**:
   - Наилучшие результаты (100% точность) получены при размере шрифта 42 пункта
   - Точность резко падает с увеличением размера шрифта: 30% для 48 пт, 10% для 52 пт, 0% для 56+ пт
   - Это может объясняться тем, что при меньшем размере шрифта символы становятся проще, с меньшим количеством деталей

2. **Проблемы сегментации символов**:
   - Для эталонного размера 52 пт большинство символов распознаются неверно
   - Наиболее частый ошибочно распознанный символ: "ם" (мем софит)
   - Возможная причина - схожесть этого символа с другими по используемым признакам

3. **Эффективность признаков**:
   - Текущий набор признаков эффективен только для маленьких размеров шрифта
   - При увеличении размера возрастает влияние шума и вариаций в начертании символов
   - Квадрантные признаки показали полезность, но их недостаточно для надежного различения всех символов

## Выводы

1. Разработанная система распознавания символов иврита показала неоднозначные результаты:
   - Высокая точность (100%) для шрифта малого размера (42 пт)
   - Низкая точность (10%) для эталонного размера шрифта (52 пт)
   - Нулевая точность для шрифтов большого размера (56+ пт)

2. Полученные результаты говорят о том, что:
   - Используемые признаки (масса, центр тяжести, моменты инерции, квадранты) хорошо работают для простых форм
   - Для сложных форм требуются более детальные признаки или другие подходы

3. Интересным результатом исследования является обратная зависимость точности от размера шрифта, что требует дополнительного изучения.

## Запуск программы

```bash
python3 main2.py
```

Результаты сохраняются в директории `lab7/results/`. 